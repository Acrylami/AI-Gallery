(this["webpackJsonpimage-ml"]=this["webpackJsonpimage-ml"]||[]).push([[0],{290:function(e,t,a){},305:function(e,t){},306:function(e,t){},314:function(e,t){},320:function(e,t,a){"use strict";a.r(t);var n=a(19),c=a(18),r=a.n(c),s=a(253),i=a.n(s),l=a(128),o=a(47),u=(a(290),a.p+"static/media/drama.b984f836.png"),d=a.p+"static/media/translate.124f5d63.png",b=a.p+"static/media/style_transfer.73fe2647.png",j=a.p+"static/media/construction.471e90af.png";var p=function(e){var t,a=Object(o.f)();switch(e.mlFunct){case"meme":t=u;break;case"translator":t=d;break;case"style":t=b;break;default:t=j}return Object(n.jsxs)("div",{className:"card-div",onClick:function(){"construction"!==e.mlFunct&&a.push("/image/".concat(e.mlFunct))},children:[Object(n.jsx)("h1",{className:"card-title",children:e.title}),Object(n.jsx)("img",{src:t,className:"img-card",alt:e.title})]})};var m=function(){var e=["meme","translator","style","construction","construction","construction"];return Object(n.jsx)("div",{className:"row row-cols-1 row-cols-lg-3 row-cols-md-2 app-container",children:["Meme swapper","Object translator","Style transfer","Still under construction","Still under construction","Still under construction"].map((function(t,a){return Object(n.jsx)("div",{className:"col mb-3",children:Object(n.jsx)(p,{title:t,mlFunct:e[a]})},t+a)}))})},h=a.p+"static/media/logo.9995f34a.png";var g=function(e){var t=Object(o.f)();return Object(n.jsxs)("div",{className:"heading",children:[Object(n.jsx)("img",{src:h,alt:"logo",className:"logo",onClick:function(){t.replace("/")}}),Object(n.jsx)("h1",{children:e.head}),Object(n.jsx)("p",{children:e.subHead})]})};var f=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{head:"Welcome to AI Gallery",subHead:"where you can use machine learning to do lots of cool stuff with an image"}),Object(n.jsx)(m,{})]})},O=a(254),x=a.n(O);var v=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsxs)("p",{className:"footer-text",children:["Made with \xa0",Object(n.jsx)(x.a,{className:"heart"}),"\xa0 by",Object(n.jsxs)("a",{href:"https://github.com/david-osas",className:"footer-link",target:"_blank",rel:"noreferrer",children:[" ",Object(n.jsx)("em",{children:"Osas"})," "]}),",",Object(n.jsxs)("a",{href:"https://github.com/yashika51",className:"footer-link",target:"_blank",rel:"noreferrer",children:[" ",Object(n.jsx)("em",{children:"Yashika"})," "]}),",",Object(n.jsxs)("a",{href:"https://github.com/Acrylami",className:"footer-link",target:"_blank",rel:"noreferrer",children:[" ",Object(n.jsx)("em",{children:"Arlyn"})," "]})]})})},y={meme:{head:"Welcome to Meme swapper",subHead:"upload a picture with a face and let our application swap it with a meme"},translator:{head:"Welcome to Object translator",subHead:"upload a picture of an object and let our application tell you the names of the uploaded object in different languages"},style:{head:"Welcome to style transfer",subHead:"upload a content image and a style image and let our application paint your content image with the styles in your style image"}},w=a(11),k=a.n(w),N=a(14),S=a(5);var I=function(e){var t=e.input,a=e.handleImage,c=e.imgRef,r=e.imgText,s="input"===r?"file":r;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h3",{children:["Your ",r," image"]}),Object(n.jsx)("img",{ref:c,id:"input",src:t,alt:"input",className:"app-img"}),Object(n.jsx)("input",{type:"file",accept:"image/*",name:"image",id:s,style:{display:"none"},onChange:a}),Object(n.jsx)("div",{className:"upload-div",children:Object(n.jsx)("label",{htmlFor:s,className:"btn btn-outline-primary upload-label",children:" Upload Image "})})]})};var R=function(e){var t=e.handleUploadBtn,a=e.btnText;return Object(n.jsx)("div",{className:"upload-div",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:t,children:a})})},T=a.p+"static/media/input.96156881.png",U=a.p+"static/media/swap.b0be6a7d.png",F=a.p+"static/media/loading.a74b50f6.gif";var H=function(){var e=Object(c.useState)(T),t=Object(S.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(null),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)([U,"Your output image"]),d=Object(S.a)(u,2),b=d[0],j=d[1],p=Object(c.useRef)(null);function m(){return(m=Object(N.a)(k.a.mark((function e(t){var a,n,c,r,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null!==l){e.next=4;break}return alert("input an image"),e.abrupt("return");case 4:return j([F,"Hold on, your input image is been swapped"]),p.current.scrollIntoView({behavior:"smooth"}),(a=new FormData).append("image",l,l.name),n={method:"POST",body:a},e.next=11,fetch("/server/upload",n);case 11:if(!(c=e.sent)){e.next=19;break}return e.next=15,c.text();case 15:"not detected"===(r=e.sent)?j([U,"No face was detected in your input image, try another image"]):(s="data:image/png;base64,".concat(r),j([s,"Your swapped image"])),e.next=20;break;case 19:console.log("sorry, got no image response");case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{children:[Object(n.jsx)(I,{input:a,handleImage:function(e){e.target.files[0]&&(o(e.target.files[0]),r(URL.createObjectURL(e.target.files[0])))},imgText:"input"}),Object(n.jsx)(R,{btnText:"Initiate swapping",handleUploadBtn:function(e){return m.apply(this,arguments)}}),Object(n.jsx)("h3",{children:b[1]}),Object(n.jsx)("img",{id:"output",ref:p,src:b[0],alt:"output",className:"app-img"})]})},L=(a(318),a(317),a(281)),B=a.p+"static/media/objects.52845dd1.png";var D=function(){var e=Object(c.useState)(B),t=Object(S.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)([]),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)(["","hidden"]),d=Object(S.a)(u,2),b=d[0],j=d[1],p=Object(c.useState)(""),m=Object(S.a)(p,2),h=m[0],g=m[1],f=Object(c.useRef)(null),O=Object(c.useRef)(null);function x(){return(x=Object(N.a)(k.a.mark((function e(){var t,n,c,r,s,i,l,u,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(["","hidden"]),o([]),a!==B){e.next=5;break}return alert("input an image"),e.abrupt("return");case 5:return j(["Detecting object in picture","visible"]),O.current.scrollIntoView({behavior:"smooth"}),e.next=9,L.a();case 9:return t=e.sent,e.next=12,t.detect(f.current);case 12:if(!((n=e.sent).length>=1)){e.next=17;break}console.log("object detected"),e.next=19;break;case 17:return j(["No object detected, try uploading a different image","hidden"]),e.abrupt("return");case 19:c=new Set,r=0;case 21:if(!(r<n.length)){e.next=29;break}if(c.add(n[r].class),!(c.size>1)){e.next=26;break}return j(["More than one object detected, try uploading an image with generally one object","hidden"]),e.abrupt("return");case 26:r++,e.next=21;break;case 29:return s=c.values(),i=s.next().value,g(i),l={method:"POST",body:JSON.stringify({name:i}),headers:{"content-type":"application/json"}},j(["Translating object name to other languages","visible"]),e.next=36,fetch("/server/translate",l);case 36:return u=e.sent,e.next=39,u.json();case 39:d=e.sent,j(["Object translation is done","hidden"]),o(d);case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{children:[Object(n.jsx)(I,{imgRef:f,input:a,handleImage:function(e){e.target.files[0]&&r(URL.createObjectURL(e.target.files[0]))},imgText:"input"}),Object(n.jsx)(R,{btnText:"Detect objects",handleUploadBtn:function(){return x.apply(this,arguments)}}),b[0].length>0&&Object(n.jsx)("h3",{children:b[0]}),Object(n.jsx)("img",{id:"output",ref:O,style:{visibility:b[1],display:b[0].length>0&&l.length>0?"none":"block"},src:F,alt:"output",className:"app-img"}),l.length>0&&Object(n.jsx)("hr",{className:"object-hr"}),l.length>0&&Object(n.jsxs)("p",{className:"object-title",children:["Name of object detected is ",Object(n.jsx)("b",{children:h})]}),l.length>0&&l.map((function(e){return Object(n.jsxs)("p",{children:[e[0]," : ",e[1]]},e[0])}))]})},M=a.p+"static/media/content.8b9631d0.png",Y=a.p+"static/media/style.30f87267.png",C=a.p+"static/media/transfer.596dee8e.png";var W=function(){var e=Object(c.useState)(M),t=Object(S.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(Y),i=Object(S.a)(s,2),l=i[0],o=i[1],u=Object(c.useState)(C),d=Object(S.a)(u,2),b=d[0],j=d[1],p=Object(c.useState)(null),m=Object(S.a)(p,2),h=m[0],g=m[1],f=Object(c.useState)(null),O=Object(S.a)(f,2),x=O[0],v=O[1],y=Object(c.useRef)(null);function w(){return(w=Object(N.a)(k.a.mark((function e(){var t,n,c,r,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==M&&l!==Y){e.next=3;break}return alert("please upload a content image and a style image"),e.abrupt("return");case 3:return(t=new FormData).append("content",h,h.name),t.append("style",x,x.name),n={method:"POST",body:t},j(F),y.current.scrollIntoView({behavior:"smooth"}),e.next=11,fetch("/server/style-transfer",n);case 11:if(!(c=e.sent)){e.next=27;break}return console.log("I got a response"),e.next=16,c.text();case 16:if(!(r=e.sent)){e.next=24;break}return console.log("I got an image blob"),s="data:image/png;base64,".concat(r),j(s),e.abrupt("return");case 24:console.log("no image base64 str");case 25:e.next=28;break;case 27:console.log("no response");case 28:j(C);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"row row-cols-1 row-cols-md-2",children:[Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(I,{input:a,handleImage:function(e){e.target.files[0]&&(g(e.target.files[0]),r(URL.createObjectURL(e.target.files[0])))},imgText:"content"})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(I,{input:l,handleImage:function(e){e.target.files[0]&&(v(e.target.files[0]),o(URL.createObjectURL(e.target.files[0])))},imgText:"style"})})]}),Object(n.jsx)(R,{handleUploadBtn:function(){return w.apply(this,arguments)},btnText:"Start style transfer"}),Object(n.jsx)("h3",{children:"Your output image"}),Object(n.jsx)("img",{id:"output",ref:y,src:b,alt:"style transfer",className:"app-img"})]})};var _=function(){var e=Object(o.g)().feature,t=y[e];return Object(n.jsxs)("div",{children:[Object(n.jsx)(g,{head:t.head,subHead:t.subHead}),Object(n.jsxs)("div",{className:"app-container",children:["meme"===e&&Object(n.jsx)(H,{}),"translator"===e&&Object(n.jsx)(D,{}),"style"===e&&Object(n.jsx)(W,{})]})]})};var A=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",children:Object(n.jsx)(f,{})}),Object(n.jsx)(o.a,{exact:!0,path:"/image/:feature",children:Object(n.jsx)(_,{})})]}),Object(n.jsx)(v,{})]})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(l.a,{children:Object(n.jsx)(A,{})})}),document.getElementById("root"))}},[[320,1,2]]]);
//# sourceMappingURL=main.ccad2cfb.chunk.js.map